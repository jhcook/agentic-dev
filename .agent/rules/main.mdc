---
alwaysApply: true
---

# Project Rules and Standards

## 0. Governance Hierarchy (Authoritative)

This file serves as the **root index** for project governance. All agents must follow the hierarchy below:

1.  **Roles & Responsibilities**: See [.agent/rules/the-team.mdc](.agent/rules/the-team.mdc)
    -   Defines who owns what (Architecture, Security, Mobile, Web, Backend).
2.  **Compliance Mandates**: See [.agent/rules/global-compliance-requirements.mdc](.agent/rules/global-compliance-requirements.mdc)
    -   Defines non-negotiable SOC 2 and GDPR rules for all ecosystems.
3.  **Change Control**: See [.agent/rules/commit-workflow.mdc](.agent/rules/commit-workflow.mdc)
    -   Defines the audit council process for validation.

---

## 1. Code Quality & Standards

### Python (Backend)
-   **Primary Owner**: `@Backend` (See `the-team.mdc`)
-   **Baseline**:
    -   Follow PEP-8 style guidelines strictly.
    -   All public interfaces must be typed and documented.
    -   Use `async/await` for all I/O bound operations.

### Web & Mobile (Frontend)
-   **Primary Owners**: `@Web` / `@Mobile` (See `the-team.mdc`)
-   **Baseline**:
    -   **Web**: Next.js App Router, TailwindCSS, WCAG AA.
    -   **Mobile**: Expo Router, NativeWind, Offline-First.
    -   **Mobile Lifecycle**: See [mobile-platform-support.mdc](.agent/rules/mobile-platform-support.mdc) (Current + 2).
    -   **UI/UX**: Implement "drag-and-relocate" for dashboard items (Pointer Events).

## 2. Security & Compliance

> **STOP**: Do not implement security controls ad-hoc. Refer to [global-compliance-requirements.mdc](.agent/rules/global-compliance-requirements.mdc).

-   **Secrets**: Environment variables only.
-   **Data**: Encrypt at rest (DB/Mobile) and in transit (TLS).
-   **Privacy**: No PII in logs/URLs; lawful basis required for collection.

## 3. General Organization

-   **Documentation**: Keep `docs/` and `README.md` in sync with code.
-   **imports**: Standard Lib -> Third Party -> Local (absolute paths).
-   **Complexity**: Keep functions focused; refactor if `max-branches > 16`.


## Copyright

Copyright 2026 Justin Cook

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
